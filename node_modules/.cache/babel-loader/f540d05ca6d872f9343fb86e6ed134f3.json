{"ast":null,"code":"var _jsxFileName = \"/Users/vamsi/Downloads/ReactForm/my_expense/src/components/Tracker.js\";\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport firebase from 'firebase/compat/app';\nimport 'firebase/firestore';\nimport \"firebase/auth\";\nimport AddTransaction from \"./AddTransaction\";\nimport OverviewComponent from \"./OverviewComponent\";\nimport TransactionsContainer from \"./TransactionsContainer\";\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  max-width: 100%;\n  background-color: #fff;\n  padding: 30px 20px;\n  border: 1px solid #000;\n  border-radius: 5px;\n  margin: 10px;\n`;\nconst Heading = styled.h1`\n  font-size: 30px;\n  font-weight: bold;\n  text-align: center;\n  margin-bottom: 20px;\n`;\nconst TransactionDetails = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 20px;\n  margin-bottom: 25px;\n`;\nconst THeading = styled.div`\n  font-size: 30px;\n  font-weight: bold;\n  text-align: center;\n  margin-bottom: 20px;\n  color: #44e610;\n`;\nconst ExpenseBox = styled.div`\n  flex: 1;\n  border: 1px solid #000;\n  border-radius: 5px;\n  padding: 10px 20px;\n  background-color: #fff;\n  & span {\n    font-weight: bold;\n    font-size: 25px;\n    display: block;\n    color: ${props => props.isExpense ? \"red\" : \"green\"};\n  }\n`;\nconst IncomeBox = styled(ExpenseBox)``;\nconst Tracker = () => {\n  const [user, setUser] = useState(null);\n  const [toggle, setToggle] = useState(false);\n  const [transactions, setTransactions] = useState([]);\n  const [expense, setExpense] = useState(0);\n  const [income, setIncome] = useState(0);\n\n  // Firebase authentication\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(null);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Firebase Firestore setup\n  useEffect(() => {\n    if (user) {\n      const unsubscribe = firebase.firestore().collection(\"expenses\").where(\"userId\", \"==\", user.uid).onSnapshot(snapshot => {\n        const data = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setTransactions(data);\n      });\n      return () => unsubscribe();\n    }\n  }, [user]);\n\n  // Calculate total expense and income\n  useEffect(() => {\n    let totalExpense = 0;\n    let totalIncome = 0;\n    transactions.forEach(transaction => {\n      if (transaction.type === \"expense\") {\n        totalExpense += transaction.amount;\n      } else {\n        totalIncome += transaction.amount;\n      }\n    });\n    setExpense(totalExpense);\n    setIncome(totalIncome);\n  }, [transactions]);\n\n  // Log out user\n  const handleLogout = () => {\n    firebase.auth().signOut();\n  };\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(THeading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"Expense Tracker\"), /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }), user ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"Logout\"), /*#__PURE__*/React.createElement(OverviewComponent, {\n    toggle: toggle,\n    setToggle: setToggle,\n    expense: expense,\n    income: income,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }), toggle && /*#__PURE__*/React.createElement(AddTransaction, {\n    setToggle: setToggle,\n    userId: user.uid,\n    transactions: transactions,\n    setTransactions: setTransactions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TransactionDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ExpenseBox, {\n    isExpense: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"Expense \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, \"$\", expense)), /*#__PURE__*/React.createElement(IncomeBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"Budget/Income \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, \"$\", income))), /*#__PURE__*/React.createElement(TransactionsContainer, {\n    transactions: transactions,\n    setTransactions: setTransactions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, \"Please log in to continue\"));\n};\nexport default Tracker;","map":{"version":3,"names":["React","useEffect","useState","styled","firebase","AddTransaction","OverviewComponent","TransactionsContainer","Container","div","Heading","h1","TransactionDetails","THeading","ExpenseBox","props","isExpense","IncomeBox","Tracker","user","setUser","toggle","setToggle","transactions","setTransactions","expense","setExpense","income","setIncome","unsubscribe","auth","onAuthStateChanged","firestore","collection","where","uid","onSnapshot","snapshot","data","docs","map","doc","id","totalExpense","totalIncome","forEach","transaction","type","amount","handleLogout","signOut","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","onClick","userId"],"sources":["/Users/vamsi/Downloads/ReactForm/my_expense/src/components/Tracker.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport firebase from 'firebase/compat/app';\r\nimport 'firebase/firestore'; \r\nimport \"firebase/auth\";\r\nimport AddTransaction from \"./AddTransaction\";\r\nimport OverviewComponent from \"./OverviewComponent\";\r\nimport TransactionsContainer from \"./TransactionsContainer\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 600px;\r\n  max-width: 100%;\r\n  background-color: #fff;\r\n  padding: 30px 20px;\r\n  border: 1px solid #000;\r\n  border-radius: 5px;\r\n  margin: 10px;\r\n`;\r\n\r\nconst Heading = styled.h1`\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst TransactionDetails = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 20px;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nconst THeading = styled.div`\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  color: #44e610;\r\n`;\r\n\r\nconst ExpenseBox = styled.div`\r\n  flex: 1;\r\n  border: 1px solid #000;\r\n  border-radius: 5px;\r\n  padding: 10px 20px;\r\n  background-color: #fff;\r\n  & span {\r\n    font-weight: bold;\r\n    font-size: 25px;\r\n    display: block;\r\n    color: ${(props) => (props.isExpense ? \"red\" : \"green\")};\r\n  }\r\n`;\r\n\r\nconst IncomeBox = styled(ExpenseBox)``;\r\n\r\nconst Tracker = () => {\r\n  const [user, setUser] = useState(null);\r\n  const [toggle, setToggle] = useState(false);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [expense, setExpense] = useState(0);\r\n  const [income, setIncome] = useState(0);\r\n\r\n  // Firebase authentication\r\n  useEffect(() => {\r\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        setUser(user);\r\n      } else {\r\n        setUser(null);\r\n      }\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Firebase Firestore setup\r\n  useEffect(() => {\r\n    if (user) {\r\n      const unsubscribe = firebase\r\n        .firestore()\r\n        .collection(\"expenses\")\r\n        .where(\"userId\", \"==\", user.uid)\r\n        .onSnapshot((snapshot) => {\r\n          const data = snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          }));\r\n          setTransactions(data);\r\n        });\r\n      return () => unsubscribe();\r\n    }\r\n  }, [user]);\r\n\r\n  // Calculate total expense and income\r\n  useEffect(() => {\r\n    let totalExpense = 0;\r\n    let totalIncome = 0;\r\n    transactions.forEach((transaction) => {\r\n      if (transaction.type === \"expense\") {\r\n        totalExpense += transaction.amount;\r\n      } else {\r\n        totalIncome += transaction.amount;\r\n      }\r\n    });\r\n    setExpense(totalExpense);\r\n    setIncome(totalIncome);\r\n  }, [transactions]);\r\n\r\n  // Log out user\r\n  const handleLogout = () => {\r\n    firebase.auth().signOut();\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <THeading>Expense Tracker</THeading>\r\n      <Heading></Heading>\r\n      {user ? (\r\n        <>\r\n          <button onClick={handleLogout}>Logout</button>\r\n          <OverviewComponent\r\n            toggle={toggle}\r\n            setToggle={setToggle}\r\n            expense={expense}\r\n            income={income}\r\n          />\r\n          {toggle && (\r\n            <AddTransaction\r\n              setToggle={setToggle}\r\n              userId={user.uid}\r\n              transactions={transactions}\r\n              setTransactions={setTransactions}\r\n            />\r\n          )}\r\n          <TransactionDetails>\r\n            <ExpenseBox isExpense>\r\n              Expense <span>${expense}</span>\r\n            </ExpenseBox>\r\n            <IncomeBox>\r\n              Budget/Income <span>${income}</span>\r\n            </IncomeBox>\r\n          </TransactionDetails>\r\n          <TransactionsContainer\r\n            transactions={transactions}\r\n            setTransactions={setTransactions}\r\n          />\r\n        </>\r\n      ) : (\r\n        <p>Please log in to continue</p>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Tracker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}