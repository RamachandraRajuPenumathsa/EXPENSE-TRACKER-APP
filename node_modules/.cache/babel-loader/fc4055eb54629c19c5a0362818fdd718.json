{"ast":null,"code":"var _jsxFileName = \"/Users/vamsi/Downloads/ReactForm/my_expense/src/components/Dashboard.js\";\nimport React, { useState, useEffect } from 'react';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/firestore';\nimport TransactionContainer from './TransactionsContainer'; // Assuming this contains TransactionItem, AddTransaction, and OverviewComponent\n\nfunction Dashboard({\n  user,\n  signOut\n}) {\n  const [expenses, setExpenses] = useState([]);\n  const [showAddExpenseForm, setShowAddExpenseForm] = useState(false);\n  const [newExpense, setNewExpense] = useState({\n    name: '',\n    amount: 0,\n    category: '',\n    date: new Date().toISOString()\n  });\n  useEffect(() => {\n    // Fetch expenses from Firestore\n    const fetchExpenses = async () => {\n      const snapshot = await firebase.firestore().collection('expenses').where('userId', '==', user.uid).get();\n      const expensesData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setExpenses(expensesData);\n    };\n    fetchExpenses();\n  }, [user]);\n  const handleAddExpense = async () => {\n    // Add new expense to Firestore\n    await firebase.firestore().collection('expenses').add({\n      ...newExpense,\n      userId: user.uid\n    });\n    // Refresh expenses list\n    const snapshot = await firebase.firestore().collection('expenses').where('userId', '==', user.uid).get();\n    const expensesData = snapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n    setExpenses(expensesData);\n    // Clear form and close form modal\n    setNewExpense({\n      name: '',\n      amount: 0,\n      category: '',\n      date: new Date().toISOString()\n    });\n    setShowAddExpenseForm(false);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Welcome, \", user.email), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: signOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Sign Out\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Expenses\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setShowAddExpenseForm(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Add Expense\"), showAddExpenseForm && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Add Expense\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: newExpense.name,\n    onChange: e => setNewExpense({\n      ...newExpense,\n      name: e.target.value\n    }),\n    placeholder: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    value: newExpense.amount,\n    onChange: e => setNewExpense({\n      ...newExpense,\n      amount: e.target.value\n    }),\n    placeholder: \"Amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: newExpense.category,\n    onChange: e => setNewExpense({\n      ...newExpense,\n      category: e.target.value\n    }),\n    placeholder: \"Category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    value: newExpense.date,\n    onChange: e => setNewExpense({\n      ...newExpense,\n      date: e.target.value\n    }),\n    placeholder: \"Date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleAddExpense,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(TransactionContainer, {\n    expenses: expenses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }));\n}\nexport default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","firebase","TransactionContainer","Dashboard","user","signOut","expenses","setExpenses","showAddExpenseForm","setShowAddExpenseForm","newExpense","setNewExpense","name","amount","category","date","Date","toISOString","fetchExpenses","snapshot","firestore","collection","where","uid","get","expensesData","docs","map","doc","id","data","handleAddExpense","add","userId","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","email","onClick","type","value","onChange","e","target","placeholder"],"sources":["/Users/vamsi/Downloads/ReactForm/my_expense/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/firestore';\nimport TransactionContainer from './TransactionsContainer'; // Assuming this contains TransactionItem, AddTransaction, and OverviewComponent\n\nfunction Dashboard({ user, signOut }) {\n  const [expenses, setExpenses] = useState([]);\n  const [showAddExpenseForm, setShowAddExpenseForm] = useState(false);\n  const [newExpense, setNewExpense] = useState({\n    name: '',\n    amount: 0,\n    category: '',\n    date: new Date().toISOString(),\n  });\n\n  useEffect(() => {\n    // Fetch expenses from Firestore\n    const fetchExpenses = async () => {\n      const snapshot = await firebase.firestore().collection('expenses').where('userId', '==', user.uid).get();\n      const expensesData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      setExpenses(expensesData);\n    };\n    fetchExpenses();\n  }, [user]);\n\n  const handleAddExpense = async () => {\n    // Add new expense to Firestore\n    await firebase.firestore().collection('expenses').add({\n      ...newExpense,\n      userId: user.uid,\n    });\n    // Refresh expenses list\n    const snapshot = await firebase.firestore().collection('expenses').where('userId', '==', user.uid).get();\n    const expensesData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n    setExpenses(expensesData);\n    // Clear form and close form modal\n    setNewExpense({\n      name: '',\n      amount: 0,\n      category: '',\n      date: new Date().toISOString(),\n    });\n    setShowAddExpenseForm(false);\n  };\n\n  return (\n    <div>\n      <h2>Welcome, {user.email}</h2>\n      <button onClick={signOut}>Sign Out</button>\n\n      <h3>Expenses</h3>\n      <button onClick={() => setShowAddExpenseForm(true)}>Add Expense</button>\n\n      {showAddExpenseForm && (\n        <div>\n          <h4>Add Expense</h4>\n          <input type=\"text\" value={newExpense.name} onChange={(e) => setNewExpense({ ...newExpense, name: e.target.value })} placeholder=\"Name\" />\n          <input type=\"number\" value={newExpense.amount} onChange={(e) => setNewExpense({ ...newExpense, amount: e.target.value })} placeholder=\"Amount\" />\n          <input type=\"text\" value={newExpense.category} onChange={(e) => setNewExpense({ ...newExpense, category: e.target.value })} placeholder=\"Category\" />\n          <input type=\"date\" value={newExpense.date} onChange={(e) => setNewExpense({ ...newExpense, date: e.target.value })} placeholder=\"Date\" />\n          <button onClick={handleAddExpense}>Submit</button>\n        </div>\n      )}\n\n      <TransactionContainer expenses={expenses}>\n        {/* Assuming TransactionItem, AddTransaction, and OverviewComponent are included in TransactionContainer */}\n      </TransactionContainer>\n\n      {/* Additional components or functionality can be added here */}\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}